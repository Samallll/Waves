---
apiVersion: v1
kind: ConfigMap
metadata:
  name: kafka-cm
  namespace: store
data:
  zookeeper_connect_url: "zookeeper-svc.store:2181"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: kafka-init-cm
  namespace: store
data:
  server.properties: |
    listeners=PLAINTEXT://:9092
    advertised.listeners=PLAINTEXT://kafka-broker:9092

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: mysql-initdb-cm
  namespace: store
data:
  init.sql: |
    CREATE DATABASE IF NOT EXISTS user_details;
    CREATE DATABASE IF NOT EXISTS event_details;
    CREATE DATABASE IF NOT EXISTS host_details;
    CREATE DATABASE IF NOT EXISTS payment_details;
    CREATE USER 'admin'@'%' IDENTIFIED BY 'admin';
    GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%';
